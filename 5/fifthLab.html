<html>
<head></head>
<script>
// Массивы. Методы массивов. Объекты. Тип данных Symbol. Set, Map, WeakSet и WeakMap. Object.keys, values, entries.

    // 1.	Пользователи регистрируются в игре, вводя свое имя.
    // Проверьте является ли имя пользователя уникальным.
    document.write('Задание 1<br>');
    let A = ["Анна","Анна","Александра","Алина","Алла","Анастасия","Анжела","Анна","Антонина","Валентина","Валерия","Вероника","Виктория","Галина","Дарья","Евгения","Екатерина","Елена","Елизавета","Карина","Кира","Клавдия","Кристина","Ксения","Лидия","Любовь","Людмила","Маргарита","Марина","Мария","Надежда","Наталья","Нина","Оксана","Олеся","Ольга","Полина","Светлана","Таисия","Тамара","Татьяна","Эвелина","Эльвира","Юлиана","Юлия","Яна",
    "Александр","Алексей","Анатолий","Андрей","Антон","Аркадий","Артем","Борислав","Вадим","Валентин","Валерий","Василий","Виктор","Виталий","Владимир","Вячеслав","Геннадий","Георгий","Григорий","Даниил","Денис","Дмитpий","Евгений","Егор","Иван","Игорь","Илья","Кирилл","Лев","Максим","Михаил","Никита","Николай","Олег","Семен","Сергей","Станислав","Степан","Федор","Юрий"];
    
    function registr() {
      let input = prompt("Введите имя", "");
      let arr2 = A.map( function(v) {
          if (v.toLowerCase() == input.toLowerCase()) {
              alert("Имя пользователя не уникально. Попробуйте вариант: " + v + "123");
              registr();
              return 0;
          } else {
            return 0;
          }
      });
      document.write("Имя " + input + " уникально! Вы успешно зарегестрированы.");
    }
    registr();
    

    // 2.	Реализуйте возможность сортировки списка игроков по алфавиту в прямом и обратном порядке;
    //  поиск игроков по длине имени; поиск игроков по первой букве имени. 
    document.write('<br>Задание 2<br>');

    let AA = A.sort(); //сортировка
    document.write(AA);
    document.write('<br>');
    let AAA = AA.reverse(); 
    document.write(AAA);
    document.write('<br>');

    function choose() {
        let name_len = [];
        let name_first = [];
        let chose = prompt("Что вы хотите сделать?\n1 - Поиск по длине имени\n2 - Поиск по первой букве имени\n0 - выход", "");
        switch(chose) {
            case '1':
                let len = prompt("Введите длину имени", "");
                let Alen = A.map( function(v) {
                    if (v.length == len) {
                        name_len.push(v);
                    } else { return 0; }
                });
                if (name_len != []){
                    alert("Имена с длиной "+ len + " это " + name_len);
                    choose();
                } else {
                    alert("Имён с длиной "+ len + " не существует");
                    choose();
                }
                break;

            case '2':
                let first_s = prompt("Введите первый символ имени", "");
                let Afirst = A.map( function(v) {
                    if (v.substr(0, 1).toLowerCase() == first_s.toLowerCase()) {
                        name_first.push(v);
                    } else { return 0; }
                });
                if (name_first != []){
                    alert("Имена с первым символом "+ first_s + " это " + name_first);
                    choose();
                } else { alert("Ошибка"); }
                document.write(name_first);
                break;

            case '0':
                return alert("Вы решили не делать поиск");
                break;
            default:
                alert("Введите что-то из предложенных вариантов!");
                choose();
                break;
        }
    }
    choose();

    // 3.	Какую структуру данных (массив или set) вы использовали для решения задач 1 и 2? Почему?
    //  Для сравнения реализуйте решение задач 1 и 2 выбрав другую структуру.
    document.write('<br>Задание 3<br>');
    const arr = ["Александра","Алина","Алла","Анастасия","Анжела","Анна","Антонина","Валентина","Валерия","Вероника","Виктория","Галина","Дарья","Евгения","Екатерина","Елена","Елизавета","Карина","Кира","Клавдия","Кристина","Ксения","Лидия","Любовь","Людмила","Маргарита","Марина","Мария","Надежда","Наталья","Нина","Оксана","Олеся","Ольга","Полина","Светлана","Таисия","Тамара","Татьяна","Эвелина","Эльвира","Юлиана","Юлия","Яна",
    "Александр","Алексей","Анатолий","Андрей","Антон","Аркадий","Артем","Борислав","Вадим","Валентин","Валерий","Василий","Виктор","Виталий","Владимир","Вячеслав","Геннадий","Георгий","Григорий","Даниил","Денис","Дмитpий","Евгений","Егор","Иван","Игорь","Илья","Кирилл","Лев","Максим","Михаил","Никита","Николай","Олег","Семен","Сергей","Станислав","Степан","Федор","Юрий"];
    const settt = new Set(arr);
    console.log(settt);

    let newset = new Set(["Александра","Алина","Алла","Анастасия","Анжела","Анна","Антонина","Валентина","Валерия","Вероника","Виктория","Галина","Дарья","Евгения","Екатерина","Елена","Елизавета","Карина","Кира","Клавдия","Кристина","Ксения","Лидия","Любовь","Людмила","Маргарита","Марина","Мария","Надежда","Наталья","Нина","Оксана","Олеся","Ольга","Полина","Светлана","Таисия","Тамара","Татьяна","Эвелина","Эльвира","Юлиана","Юлия","Яна",
    "Александр","Алексей","Анатолий","Андрей","Антон","Аркадий","Артем","Борислав","Вадим","Валентин","Валерий","Василий","Виктор","Виталий","Владимир","Вячеслав","Геннадий","Георгий","Григорий","Даниил","Денис","Дмитpий","Евгений","Егор","Иван","Игорь","Илья","Кирилл","Лев","Максим","Михаил","Никита","Николай","Олег","Семен","Сергей","Станислав","Степан","Федор","Юрий"]);
    var arrayset = Array.from(newset);
    console.log(arrayset.sort()); //сортировка
    console.log(arrayset.reverse());

    function choose2() {
        let chose2 = prompt("3 задание. Что вы хотите сделать?\n1 - Поиск по длине имени\n2 - Поиск по первой букве имени\n3 - Проверка уникальности имени\n0 - выход", "");
        switch(chose2) {
            case '1':
                let len2 = prompt("Введите длину имени", "");
                for (let item of arrayset){
                    if(item.length == len2){
                        console.log(item);
                    }
                }
                choose2();
                break;
            case '2':
                let first_s2 = prompt("Введите первый символ имени", "");
                for (let item of arrayset){
                    if (item.substr(0, 1).toLowerCase() == first_s2.toLowerCase()) {
                        console.log(item);
                    }
                }
                choose2();
                break;
            case '3':
                let input2 = prompt("Введите имя", "");
                if(arrayset.has(input2))
                    alert('Имя не уникально!');
                else
                    alert('Имя уникально!');
                choose2();
                break;
            case '0':
                return alert("Вы решили не делать поиск");
                break;
            default:
                alert("Введите что-то из предложенных вариантов!");
                choose2();
                break;
        }
    }
    choose2();
    
    // 4.	Присвойте каждому игроку четырехзначный идентификатор (id может принимать
    //  значения в диапазоне [1, 9999]) и сохраните количество набранных им баллов за последнюю игру.
    //   Для имитации набранных баллов используйте методы генерации случайных чисел.
    document.write('<br>Задание 4<br>');
    let gamers = [];
    gamers[0] = { id: 1111, name: 'Анна', ball: Math.floor(Math.random() * 100)};
    gamers[1] = { id: 2222, name: 'Мария', ball: Math.floor(Math.random() * 100)};
    gamers[2] = { id: 3333, name: 'Яна', ball: Math.floor(Math.random() * 100)};

    document.write("Первый игрок с ID " + gamers[0]['id'] + " по имени " + gamers[0]['name'] + " набрал " + gamers[0]['ball'] + " баллов!<br>");
    document.write("Второй игрок с ID " + gamers[1]['id'] + " по имени " + gamers[1]['name'] + " набрал " + gamers[1]['ball'] + " баллов!<br>");
    document.write("Третий игрок с ID " + gamers[2]['id'] + " по имени " + gamers[2]['name'] + " набрал " + gamers[2]['ball'] + " баллов!<br>");
    
    // 5.	Составьте список игроков, занявших 1-е, 2-е, 3-е места в результате последней игры. 
    document.write('<br>Задание 5<br>');
    gamers.sort(function(a, b){
        return a.ball-b.ball
    })
    document.write("Первое место - " + gamers[2].name);
    document.write("<br>Второе место - " + gamers[1].name);
    document.write("<br>Третье место - " + gamers[0].name);

    // 6.	Реализуйте возможность сохранять результаты последних 10 игр.
    //  Использование какой структуры данных здесь рационально?
    document.write('<br>Задание 6<br>');
    let lastgames = [],
            min = 1,
            max = 100;
    for (let i = 0; i < 9; i++) {
        lastgames[i] = [];
        for (let j = 0; j < 3; j++) {
            arr[i][j] = Math.floor(Math.random() * (max - min + 1) + min);
        }
    }
    for (let i = 0; i< lastgames.length; i +=1) {
        lastgames[i].sort((a, b) => a - b);
        document.write(lastgames[i]);
    }


    for (h = 0; h < 9; h++) {
        document.write("1 место " + lastgames[h]['third'] + ", 2 место " + lastgames[h]['second'] + ", 3 место " + lastgames[h]['first'] + "<br>");
    }

    // 7.	Увеличьте число игроков до n (n задает преподаватель) и определите победителей по результатам каждой игры.
    document.write('<br>Задание 7<br>');


</script>
</html>